<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ALIAS</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;600;800;900&family=Manrope:wght@300;400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
</head>
<body class="dark">

<!-- REGISTER SCREEN -->
<div id="screen-register" class="screen active">
  <div class="register-bg">
    <div class="register-card">
      <div class="logo-big">ALIAS</div>
      <p class="register-sub">–£–≥–∞–¥–∞–π —Å–ª–æ–≤–æ —Ä–∞–Ω—å—à–µ –¥—Ä—É–≥–∏—Ö</p>
      <div class="input-group">
        <input type="text" id="nick-input" placeholder="–í–∞—à –Ω–∏–∫" maxlength="20" autocomplete="off">
        <button id="join-btn" class="btn-primary">–í–æ–π—Ç–∏ –≤ –ª–æ–±–±–∏</button>
      </div>
      <div id="register-error" class="error-msg"></div>
    </div>
  </div>
</div>

<!-- LOBBY SCREEN -->
<div id="screen-lobby" class="screen">
  <div class="topbar">
    <button id="profile-btn" class="topbar-btn left">
      <span class="icon">üë§</span>
      <span id="topbar-nick">–ù–∏–∫</span>
      <span id="host-badge" class="host-badge hidden">–•–û–°–¢</span>
    </button>
    <div class="topbar-logo">ALIAS</div>
    <button id="settings-btn" class="topbar-btn right">
      <span class="icon">‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    </button>
  </div>

  <div class="lobby-layout">
    <div class="teams-area">
      <div class="section-title">–ö–æ–º–∞–Ω–¥—ã</div>
      <button id="create-team-btn" class="btn-secondary create-team-main">+ –°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É</button>
      <div id="teams-list" class="teams-list"></div>
    </div>
    <div class="observers-area">
      <div class="section-title">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏</div>
      <div id="observers-list" class="observers-list"></div>
    </div>
  </div>

  <div id="host-controls" class="host-controls hidden">
    <button id="start-game-btn" class="btn-primary btn-start">‚ñ∂ –ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
    <div id="start-error" class="error-msg"></div>
  </div>
</div>

<!-- GAME SCREEN -->
<div id="screen-game" class="screen">
  <div class="topbar">
    <button id="g-settings-btn" class="topbar-btn left">‚öôÔ∏è –ü—Ä–∞–≤–∏–ª–∞</button>
    <div class="topbar-logo">ALIAS</div>
    <div id="g-timer" class="timer-display">‚Äî</div>
  </div>

  <div class="game-layout">
    <div class="game-teams-panel">
      <div class="section-title">–°—á—ë—Ç</div>
      <div id="game-teams-list" class="game-teams-list"></div>
    </div>

    <div class="game-center">

      <!-- Phase: –∂–¥—ë–º –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ -->
      <div id="phase-ready" class="game-phase">
        <div class="phase-title" id="ready-title">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</div>
        <div class="phase-sub" id="ready-sub"></div>
        <div id="ready-status" class="ready-status"></div>
        <button id="ready-btn" class="btn-primary btn-ready hidden">‚úì –Ø –≥–æ—Ç–æ–≤</button>
      </div>

      <!-- Phase: –æ–±—ä—è—Å–Ω—è—é—â–∏–π –Ω–∞–∂–∏–º–∞–µ—Ç —Å—Ç–∞—Ä—Ç -->
      <div id="phase-explainer-start" class="game-phase hidden">
        <div class="phase-title" id="explainer-start-title">–í—Å–µ –≥–æ—Ç–æ–≤—ã!</div>
        <div class="phase-sub" id="explainer-start-sub"></div>
        <button id="explainer-start-btn" class="btn-primary btn-ready hidden">üöÄ –ù–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥</button>
      </div>

      <!-- Phase: –∏–≥—Ä–∞ –∏–¥—ë—Ç -->
      <div id="phase-playing" class="game-phase hidden">
        <div id="word-area" class="word-area">
          <div id="current-word-display" class="current-word">???</div>
          <button id="next-word-btn" class="btn-next hidden">–°–ª–µ–¥—É—é—â–µ–µ ‚ñ∂</button>
        </div>
        <div id="prev-words-container" class="prev-words-container">
          <div class="section-title small">–ü—Ä–µ–¥—ã–¥—É—â–∏–µ —Å–ª–æ–≤–∞</div>
          <div id="prev-words-list" class="prev-words-list"></div>
        </div>
      </div>

      <!-- Phase: —Ä–∞–∑–±–æ—Ä —Ä–∞—É–Ω–¥–∞ -->
      <div id="phase-review" class="game-phase hidden">
        <div class="phase-title">–†–∞–∑–±–æ—Ä —Ä–∞—É–Ω–¥–∞</div>
        <div class="phase-sub" id="review-sub">–°–Ω–∏–º–∏—Ç–µ –≥–∞–ª–æ—á–∫—É —Å –ù–ï—É–≥–∞–¥–∞–Ω–Ω—ã—Ö —Å–ª–æ–≤</div>
        <div id="review-words-list" class="review-words-list"></div>
        <button id="submit-review-btn" class="btn-primary hidden">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
      </div>

    </div>

    <div class="game-observers-panel">
      <div class="section-title">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª–∏</div>
      <div id="game-observers-list"></div>
    </div>
  </div>
</div>

<!-- WINNER SCREEN -->
<div id="screen-winner" class="screen">
  <div class="winner-bg">
    <div class="winner-content">
      <div class="winner-label">–ü–û–ë–ï–î–ò–¢–ï–õ–ò</div>
      <div id="winner-team-name" class="winner-team"></div>
      <div id="winner-players" class="winner-players"></div>
      <button id="restart-btn" class="btn-primary btn-restart hidden">‚Ü© –ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
    </div>
  </div>
</div>

<!-- MODALS -->
<div id="modal-overlay" class="modal-overlay hidden">

  <!-- Create team -->
  <div id="modal-create-team" class="modal hidden">
    <div class="modal-title">–°–æ–∑–¥–∞—Ç—å –∫–æ–º–∞–Ω–¥—É</div>
    <input type="text" id="team-name-input" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã" maxlength="30">
    <div id="create-team-error" class="error-msg"></div>
    <div class="modal-actions">
      <button id="modal-create-cancel" class="btn-ghost">–û—Ç–º–µ–Ω–∞</button>
      <button id="modal-create-confirm" class="btn-primary">–°–æ–∑–¥–∞—Ç—å</button>
    </div>
  </div>

  <!-- Settings -->
  <div id="modal-settings" class="modal hidden">
    <div class="modal-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
    <div class="setting-group">
      <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞—É–Ω–¥–∞ (—Å–µ–∫)</label>
      <input type="number" id="setting-duration" min="10" max="300" value="60">
    </div>
    <div class="setting-group">
      <label>–°–ª–æ–≤ –¥–ª—è –ø–æ–±–µ–¥—ã</label>
      <input type="number" id="setting-words" min="5" max="100" value="20">
    </div>
    <div class="setting-group">
      <label>–°–ª–æ–∂–Ω–æ—Å—Ç—å</label>
      <div class="diff-buttons">
        <button class="diff-btn" data-diff="easy">–õ—ë–≥–∫–∞—è</button>
        <button class="diff-btn active" data-diff="normal">–ù–æ—Ä–º–∞–ª—å–Ω–∞—è</button>
        <button class="diff-btn" data-diff="hard">–°–ª–æ–∂–Ω–∞—è</button>
      </div>
    </div>
    <div class="setting-group">
      <label>–¢–µ–º–∞</label>
      <div class="theme-toggle">
        <button id="theme-dark" class="diff-btn active">üåô –¢—ë–º–Ω–∞—è</button>
        <button id="theme-light" class="diff-btn">‚òÄÔ∏è –°–≤–µ—Ç–ª–∞—è</button>
      </div>
    </div>
    <div class="setting-group">
      <label>–¶–≤–µ—Ç –∞–∫—Ü–µ–Ω—Ç–∞</label>
      <div class="color-presets" id="color-presets">
        <div class="color-preset active" data-color="#5b6ef5" style="background:#5b6ef5" title="–°–∏–Ω–∏–π"></div>
        <div class="color-preset" data-color="#e53e3e" style="background:#e53e3e" title="–ö—Ä–∞—Å–Ω—ã–π"></div>
        <div class="color-preset" data-color="#3ecf8e" style="background:#3ecf8e" title="–ó–µ–ª—ë–Ω—ã–π"></div>
        <div class="color-preset" data-color="#9b59b6" style="background:#9b59b6" title="–§–∏–æ–ª–µ—Ç–æ–≤—ã–π"></div>
        <div class="color-preset" data-color="#f39c12" style="background:#f39c12" title="–û—Ä–∞–Ω–∂–µ–≤—ã–π"></div>
        <div class="color-preset" data-color="#e91e8c" style="background:#e91e8c" title="–†–æ–∑–æ–≤—ã–π"></div>
        <div class="color-preset" data-color="#ff5722" style="background:#ff5722" title="–ö–æ—Ä–∞–ª–ª–æ–≤—ã–π"></div>
      </div>
      <div class="color-picker-row">
        <span style="font-size:0.8rem;color:var(--text2)">–°–≤–æ–π —Ü–≤–µ—Ç:</span>
        <input type="color" id="custom-color-picker" value="#5b6ef5">
      </div>
    </div>
    <div id="settings-error" class="error-msg"></div>
    <div class="modal-actions">
      <button id="modal-settings-close" class="btn-ghost">–ó–∞–∫—Ä—ã—Ç—å</button>
      <button id="modal-settings-save" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>

  <!-- Profile -->
  <div id="modal-profile" class="modal hidden">
    <div class="modal-title">–ü—Ä–æ—Ñ–∏–ª—å</div>
    <div class="profile-nick" id="profile-nick-display"></div>
    <div class="setting-group" style="margin-top:14px">
      <label>–ò–∑–º–µ–Ω–∏—Ç—å –Ω–∏–∫</label>
      <input type="text" id="new-nick-input" placeholder="–ù–æ–≤—ã–π –Ω–∏–∫" maxlength="20" autocomplete="off">
      <div id="nick-change-error" class="error-msg"></div>
    </div>
    <div class="modal-actions">
      <button id="modal-profile-close" class="btn-ghost">–ó–∞–∫—Ä—ã—Ç—å</button>
      <button id="modal-profile-save" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∏–∫</button>
    </div>
  </div>

  <!-- Rules (in-game) -->
  <div id="modal-rules" class="modal hidden">
    <div class="modal-title">–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã</div>
    <div id="rules-content" class="rules-content"></div>
    <div class="modal-actions">
      <button id="modal-rules-close" class="btn-ghost">–ó–∞–∫—Ä—ã—Ç—å</button>
    </div>
  </div>

  <!-- Rename team -->
  <div id="modal-rename" class="modal hidden">
    <div class="modal-title">–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É</div>
    <input type="text" id="rename-input" placeholder="–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" maxlength="30">
    <div id="rename-error" class="error-msg"></div>
    <div class="modal-actions">
      <button id="modal-rename-cancel" class="btn-ghost">–û—Ç–º–µ–Ω–∞</button>
      <button id="modal-rename-confirm" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
    </div>
  </div>

</div>

<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
</body>
</html>
